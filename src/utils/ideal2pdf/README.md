# ideal2pdf

## Overview

ideal2pdf is a tool to visualize the C2 Ideal intermediate representation. The
tool works as a complement to the interactive IdealGraphVisualizer, parsing
graph files generated by the JVM and drawing each graph into a separate PDF
file.

## Dependencies

ideal2pdf has the following dependencies:

- Python ≥ 3.8
- Ruby ≥ 2.5
- Graphviz ≥ 2.43
- Seafoam ≥ 0.4

### Installation on Ubuntu 20.04

```
$ sudo apt-get install python3 python3-pygraphviz ruby graphviz
$ gem install seafoam
```

## Usage

To draw each graph from an XML graph file `foo.xml`, run:

```
./ideal2pdf foo.xml
```

To list the id, method, and compiler phase of each graph, run:

```
./ideal2pdf foo.xml --list
```

By default, ideal2pdf draws all graphs in the XML graph file, including all
nodes in each graph. To only draw the graph with id `i`, method `m`, compiler
phase `p`, and nodes `n1`, `n2`, ..., `ni`, run:

```
./ideal2pdf foo.xml --filter i;m;p;n1,n2,...,ni
```

A subset of the input graphs can be selected by leaving fields empty (matches
all values in the field) or using a regular expression instead of a concrete
value (works for all fields except the node specification).

To see all available options, run:

```
./ideal2pdf --help
```

For instructions to generate graph files from the JVM, see
`src/utils/IdealGraphVisualizer/README.md`.